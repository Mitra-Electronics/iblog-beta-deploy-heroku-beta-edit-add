{% extends 'base.html' %}
{%block title %} iBlog {%endblock%}
{% block homeactive %}current{% endblock %}
{% block css %}
<style>
    .col-sm-6{
        width: 425px;
        padding: 20px;
    }
</style>
{% endblock %}
{% block body %}
<br/>
<div class="container">
    {% if user.is_authenticated %}
    {% else %}
<section class="jumbotron text-center">
    <div class="container">
        <img src="https://lh3.googleusercontent.com/lmT7lmydO_lLhW3DtZbwoB4EgKQyo0Q_bXm5-nf1CaNwkuHNayf8a8orLfikLFR8xu85xjAq-PSKEqOy=s275-rw?pageId=101746887361253936386" alt="logo" width="120">
        <h1 class="jumbotron-heading"><span id="typed"></span></h1>
        <p class="lead text-muted">Confused on which course to take? I have got you covered. Browse courses and find out
            the best course for you. Its free!<br>MitraElectronics is my attempt to teach basics and those coding
            techniques to people in short time which took me ages to learn.</p>
        <p>
            <a href="/sign_up" class="btn btn-danger my-2">Get Started</a>
        </p>
    </div>
</section>

<div class="container">
    <div class="row">
        <div class="card mx-auto my-2 p-2 align-items-center" style="width: 18rem;">
            <img src="/static/images/coding.jpg" class="padded card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title text-center">Free Step by Step Courses(Comming Soon)</h5>
                <p class="card-text text-center">Get your programming career started with these free step by step courses. Source code is
                    available with all the resources for better experience</p>
                <a href="/" class="btn btn-primary d-block">Browse Step by Step Courses</a>
            </div>
        </div>

        <div class="card mx-auto my-2 p-2 align-items-center" style="width: 18rem;">
            <img src="/static/images/lambda.png" class="padded card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title text-center">Coding Articles</h5>
                <p class="card-text text-center">Some of the latest coding information compiled as coding articles. Keep your
                    programming knowledge up to date with our coding articles.</p>
                <a href="/login/?next=/" class="btn btn-primary d-block">Go to Blog</a>
            </div>
        </div>

        <div class="card mx-auto my-2 p-2 align-items-center" style="width: 18rem;">
            <img src="/static/images/python.png" class="padded card-img-top" alt="...">
            <div class="card-body">
                <h5 class="card-title text-center">Contact Me(Comming Soon)</h5>
                <p class="card-text text-center">Learn programming from our free courses. Examples are available with these
                    tutorials. You can contact me for any doubt and I will get back to you!</p>
                <a href="/" class="btn btn-primary d-block">Contact Me</a>
            </div>
        </div>

    </div>

</div>

    {% endif %}
{% if search %}
{% for video in result %}
<div class="col-sm-6">
            <a href="{% url 'blog_details' slug=video.slug %}"><img src="/media/{{video.thumbnail}}" alt="" width="425"><br></a>
            <Strong>{{video.blog_title}}</Strong> <br>
            <img src="/media/{{video.user.profile.profile_picture}}" alt="" width="23px" height="23px" class="rounded-circle">{{video.user.username}} <br>
            <small class="text-muted"><strong>Publish date: </strong>{{video.publish_date}}</small><br>
            <small class="text-muted"><strong>Updated on: </strong>{{video.update_date}}</small> <br>
            <b>{{video.video_comment.count}} Comments</b>
        </div>
{% endfor %}
{% else %}
    {% if user.is_authenticated %}
<div class="video-list">
    <div class="row">
        {% for video in videos %}
        <div class="col-sm-6">
            <!--
            <a href="{% url 'blog_details' slug=video.slug %}"><img src="/media/{{video.thumbnail}}" alt="" width="425"><br></a>
            <Strong>{{video.blog_title}}</Strong> <br>
            <img src="/media/{{video.user.profile.profile_picture}}" alt="" width="23px" height="23px" class="rounded-circle">{{video.user.username}} <br>
            <small class="text-muted"><strong>Publish date: </strong>{{video.publish_date}}</small><br>
            <small class="text-muted"><strong>Updated on: </strong>{{video.update_date}}</small> <br>
            <b>{{video.video_comment.count}} Comments</b>-->
            <div class="card" style="width: 18rem;">
            <img src="/media/{{video.thumbnail}}" alt="" width="425"" class="card-img-top">
            <div class="card-body">
            <h5 class="card-title">{{video.blog_title}}</h5><small class="text-muted"><strong> by {{video.user.username}}<img src="/media/{{video.user.profile.profile_picture}}" width="30px" height="30px"></strong>
            <p class="card-text">{{video.blog_content | safe |truncatechars:200}}</p>
            <a href="{% url 'blog_details' slug=video.slug %}" class="btn btn-primary">Read More</a>
            </div>
            </div>
        </div>
        {% endfor %}
        {% endif %}
    </div>
</div>
{% endif %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.9/typed.min.js" async defer></script>
    <script>
    window.onload = function () {
        console.log("loaded")
        var typed = new Typed('#typed', {
            strings: ["Welcome to MitraElectronics", "Learn Python", "Web development", "Data Science", "Machine Learning", "and other awesome programming concepts with me :)"],
            backSpeed: 15,
            smartBackspace: true,
            backDelay: 1200,
            startDelay: 1000,
            typeSpeed: 25,
            loop: true,
        });
    };
</script>
    </div>
{% endblock %}
